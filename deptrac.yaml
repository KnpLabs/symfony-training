---
parameters:
  paths:
    - ./src
  layers:
    - name: Application
      collectors:
        - type: classLike
          regex: ^Application\\.*
    - name: Domain
      collectors:
        - type: classLike
          regex: ^Domain\\.*
    - name: Infrastructure
      collectors:
        - type: classLike
          regex: ^Infrastructure\\.*
    - name: Framework
      collectors:
        - type: classLike
          regex: ^Symfony\\.*
    - name: App
      collectors:
        - type: classLike
          regex: ^App\\.*
    - name: Others
      collectors:
      - type: classLike
        regex: ^(Doctrine)\\.*
  ruleset:
    Infrastructure:
      - +Application
      - Other
    Application:
      - Domain
      - Framework
    Domain: ~
    App:
      - +Infrastructure

  skip_violations:
    Domain\Model\Species:
      - Doctrine\Common\Collections\Collection
      - Doctrine\Common\Collections\ArrayCollection
    Domain\Model\User:
      - Symfony\Component\Security\Core\User\UserInterface
      - Symfony\Component\Security\Core\User\PasswordAuthenticatedUserInterface