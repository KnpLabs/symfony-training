{% macro ticket_template(ticket, shouldDisplayGift) %}
  <div class="ticket row border border-secondary mt-4 p-2 pb-0 rounded-top bg-light justify-content-center">
    <div class="col md-6">
      {{ form_row(ticket.visitorName) }}
    </div>
    <div class="col md-6">
      {{ form_row(ticket.category) }}
    </div>
    {% if shouldDisplayGift %}
      <p class="text-center">
      {% if ticket.category.vars.data.isAdult %}
        Adult ticket for {{ ticket.visitorName.vars.value }}
      {% else %}
        Child ticket for {{ ticket.visitorName.vars.value }}
      {% endif %}
      </p>
    {% endif %}
    <button type="button" class="remove-ticket-btn btn btn-outline-danger m-2">
      Remove this ticket
    </button>
  </div>
{% endmacro %}

{% block _reservation_tickets_widget %}
  <div id="tickets-fields-list"
    data-prototype="{{ _self.ticket_template(form.vars.prototype)|e }}"
    data-widget-tags="{{ '<div></div>'|e }}"
    data-widget-counter="{{ form|length }}"
  >
    {% for ticketField in form.children %}
      {{ _self.ticket_template(ticketField, shouldDisplayGift) }}
    {% endfor %}
  </div>
{% endblock %}